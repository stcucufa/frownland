<!DOCTYPE html>
<html>
    <head>
        <title>Counter (7GUIs #1)</title>
        <meta charset="utf8">
        <link rel="stylesheet" href="../../test.css">
        <script type="module">

import { Tape } from "../../../lib/tape.js";
import { Deck } from "../../../lib/deck.js";
import { Effect, Event, Instant, Score, Seq, gate } from "../../../lib/timing.js";

const tape = Tape();
const deck = Deck({ tape });
const score = Score({ tape });
const input = document.querySelector("input");
const button = document.querySelector("button");

score.add(Seq(
    gate(Event(button, "click"), Instant((x = 0) => x + 1)),
    // FIXME 1U0C Set with no duration should just set a value
    Effect(v => { input.value = v; return v; })
).repeat());

deck.start();

        </script>
    </head>
    <body>
        <p>
            <input type="number" disabled value="0"></input>
            <button type="button">Count</button>
        </p>
        <p><a href="../..">Back</a></p>
    </body>
</html>
