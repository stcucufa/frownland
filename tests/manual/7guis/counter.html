<!DOCTYPE html>
<html>
    <head>
        <title>Counter (7GUIs #1)</title>
        <meta charset="utf8">
        <link rel="stylesheet" href="../../test.css">
        <script type="module">

import { Tape } from "../../../lib/tape.js";
import { Deck } from "../../../lib/deck.js";
import { Event, Instant, Score, Seq, Set, gate } from "../../../lib/timing.js";

const tape = Tape();
const deck = Deck({ tape });
const score = Score({ tape });
const input = document.querySelector("input");
const button = document.querySelector("button");

score.add(Seq(
    Instant(() => input.valueAsNumber),
    Seq(
        gate(Event(button, "click"), Instant(x => x + 1)),
        Set(input, "value")
    ).repeat()
));

deck.start();

        </script>
    </head>
    <body>
        <p>
            <input type="number" disabled value="0"></input>
            <button type="button">Count</button>
        </p>
        <p><a href="../..">Back</a></p>
    </body>
</html>
