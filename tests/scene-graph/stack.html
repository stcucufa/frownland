<!DOCTYPE html>
<html>
    <head>
        <title>Hstack, Vstack</title>
        <meta charset="utf8">
        <link rel="stylesheet" href="../test.css">
        <script type="module">

import { test } from "../test.js";
import { View } from "../../lib/scene-graph/view.js";
import { Hstack, Vstack } from "../../lib/scene-graph/stack.js";

test("Hstack()", t => {
    const view = Hstack();
    t.equal(view.children, [], "no children");
    t.equal(view.x, 0, "position (x)");
    t.equal(view.y, 0, "position (y)");
    t.equal(view.width, 0, "size (width)");
    t.equal(view.height, 0, "size (height)");
});

test("Hstack.renderAt(renderer, x, y)", t => {
    const renderer = {
        rendering: [],
        renderViewAt(view, x, y) {
            this.rendering.push([view, x, y]);
        }
    };

    const view = Hstack({ x: 100, children: [View({ width: 25 }), View({ width: 125 })] });
    view.renderAt(renderer, 50, -50);
    t.equal(renderer.rendering, [
        [view.children[0], 150, -50],
        [view.children[1], 175, -50]
    ], "rendered the view as expected");
});

test("Vstack()", t => {
    const view = Vstack();
    t.equal(view.children, [], "no children");
    t.equal(view.x, 0, "position (x)");
    t.equal(view.y, 0, "position (y)");
    t.equal(view.width, 0, "size (width)");
    t.equal(view.height, 0, "size (height)");
});

test("Vstack.renderAt(renderer, x, y)", t => {
    const renderer = {
        rendering: [],
        renderViewAt(view, x, y) {
            this.rendering.push([view, x, y]);
        }
    };

    const view = Vstack({ x: 100, children: [View({ height: 25 }), View({ height: 125 })] });
    view.renderAt(renderer, 50, -50);
    t.equal(renderer.rendering, [
        [view.children[0], 150, -50],
        [view.children[1], 150, -25]
    ], "rendered the view as expected");
});

        </script>
    </head>
    <body>
        <p><a href="../index.html">Back</a></p>
    </body>
</html>
