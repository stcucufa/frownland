<!DOCTYPE html>
<html>
    <head>
        <title>Score</title>
        <meta charset="utf8">
        <link rel="stylesheet" href="test.css">
        <script type="module">

import { test } from "./test.js";
import { Score, Instant, Delay, Seq, Par } from "../lib/score.js";

test("Score()", t => {
    const score = Score();
    t.equal(score.show(), "Score/0", "show");
    t.equal(score.children, [], "no children");
});

test("Score(xs)", t => {
    const delay = Delay(23);
    const instant = Instant();
    const score = Score([delay, instant]);
    t.equal(score.show(), "Score/2", "show");
    t.equal(score.children, [delay, instant], "children");
    t.equal(delay.parent, score, "parent (1)");
    t.equal(instant.parent, score, "parent (2)");
});

test("Score.add(child)", t => {
    const score = Score();
    const delay = score.add(Delay(23));
    const instant = score.add(Instant());
    t.equal(instant.show(), "Instant", "show added child");
    t.equal(score.show(), "Score/2", "show after add");
    t.equal(score.children, [delay, instant], "children after add");
    t.equal(delay.parent, score, "parent (1)");
    t.equal(instant.parent, score, "parent (2)");
});

        </script>
    </head>
    <body>
        <p><a href="index.html">Back</a></p>
    </body>
</html>
